const http = require('http');\nconst { exec } = require('child_process');\nconst fs = require('fs');\nconst path = require('path');\n\nconst server = http.createServer((req, res) => {\n  if (req.url === '/sessions') {\n    exec('openclaw sessions list', (error, stdout, stderr) => {\n      if (error) {\n        res.writeHead(500);\n        res.end(JSON.stringify({error: 'Failed to fetch sessions'}));\n        return;\n      }\n      // Parse to count active sessions (lines starting with 'direct')\n      const lines = stdout.split('\\n');\n      let count = 0;\n      for (let line of lines) {\n        if (line.trim() && line.trim().startsWith('direct')) {\n          count++;\n        }\n      }\n      res.writeHead(200, {'Content-Type': 'application/json'});\n      res.end(JSON.stringify({active: count}));\n    });\n  } else if (req.url === '/' || req.url.endsWith('.html')) {\n    const filePath = req.url === '/' ? 'dashboard.html' : req.url.slice(1);\n    fs.readFile(path.join(__dirname, filePath), (err, data) => {\n      if (err) {\n        res.writeHead(404);\n        res.end('File not found');\n      } else {\n        res.writeHead(200, {'Content-Type': 'text/html'});\n        res.end(data);\n      }\n    });\n  } else {\n    res.writeHead(404);\n    res.end('Not found');\n  }\n});\n\nserver.listen(3000, () => {\n  console.log('Office Dashboard server running on http://localhost:3000');\n});